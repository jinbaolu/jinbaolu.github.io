(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{402:function(s,t,a){s.exports=a.p+"assets/img/diff.75227d91.png"},403:function(s,t,a){s.exports=a.p+"assets/img/diff-detail.fa0b874e.png"},404:function(s,t,a){s.exports=a.p+"assets/img/diff-key.548f479f.png"},405:function(s,t,a){s.exports=a.p+"assets/img/Renderingprocess.01db136b.png"},406:function(s,t,a){s.exports=a.p+"assets/img/generate.c5cb0dfd.jpg"},407:function(s,t,a){s.exports=a.p+"assets/img/babel+ast.8e0ca5ef.png"},408:function(s,t,a){s.exports=a.p+"assets/img/vue+ast.e56d5422.png"},462:function(s,t,a){"use strict";a.r(t);var n=a(29),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"vue-åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-åŸç†"}},[s._v("#")]),s._v(" vue åŸç†")]),s._v(" "),n("blockquote",[n("p",[s._v("å¯¹äºåŸç†çš„ä¸œè¥¿ï¼Œå…¶å®æœ‰æ·±æœ‰æµ…ï¼Œæ­¤æ–‡å°½é‡å‡­ä¸€å·±ä¹‹åŠ›æ ¹æ®ç°åœ¨æ–‡æ¡£ç®€å•çš„è®²æ¸…æ¥š")])]),s._v(" "),n("p",[s._v("å†™ä¸ª list")]),s._v(" "),n("ul",[n("li",[s._v("vue åŒå‘ç»‘å®šåŸç†")]),s._v(" "),n("li",[s._v("vue å“åº”å¼æ›´æ–°åŸç†")]),s._v(" "),n("li",[s._v("è™šæ‹Ÿ dom ç®—æ³• diff")]),s._v(" "),n("li",[s._v("vue æ¸²æŸ“å‡½æ•°ï¼Œæ¨¡ç‰ˆç¼–è¯‘")])]),s._v(" "),n("h2",{attrs:{id:"æ•°æ®ç»‘å®šåŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ç»‘å®šåŸç†"}},[s._v("#")]),s._v(" æ•°æ®ç»‘å®šåŸç†")]),s._v(" "),n("blockquote",[n("p",[s._v("å•å‘ç»‘å®šï¼Œåœ¨ vue ä¸­ï¼Œä¸€èˆ¬é¡µé¢ä½¿ç”¨"),n("code",[s._v("{{}}")]),s._v("å¼•ç”¨å˜é‡çš„æ“ä½œå°±æ˜¯å•å‘ç»‘å®šï¼Œæ•°æ®åªä¼šä»"),n("code",[s._v("data")]),s._v("ä¼ é€’åˆ°é¡µé¢ï¼Œæ•…ç§°ä¸ºå•å‘ç»‘å®šã€‚"),n("br"),s._v("\nåŒå‘ç»‘å®šæ˜¯åœ¨å•å‘ç»‘å®šåŸºç¡€ä¸Šï¼ŒæŠŠ dom ä¸Šçš„ä¿®æ”¹å˜åŒ–ä¼ é€’ä¼š"),n("code",[s._v("data")]),s._v("ï¼Œè¿™æ ·æ•°æ®çš„æ”¹åŠ¨æ—¢å¯ä»¥ä»é¡µé¢åˆ° js ä¹Ÿå¯ä»¥ä» js åˆ°é¡µé¢ï¼Œæ•…ç§°ä¸ºåŒå‘ç»‘å®šã€‚")])]),s._v(" "),n("ol",[n("li",[s._v("æ•°æ®ä» js åˆ°é¡µé¢")])]),s._v(" "),n("p",[s._v("åŸºæœ¬åŸç†æ˜¯æ•°æ®åŠ«æŒ+ä¾èµ–æ”¶é›†ï¼Œè¿™é‡Œä¸å±•å¼€ï¼Œå¾€åä»‹ç»")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("æ•°æ®ä»é¡µé¢åˆ° js")])]),s._v(" "),n("blockquote",[n("p",[s._v("éœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒåŒå‘ç»‘å®šä¸€èˆ¬åªé’ˆå¯¹è¡¨å•æ§ä»¶ï¼Œå› ä¸ºéœ€è¦ä¾ç…§è¡¨å•çš„ webapi äº‹ä»¶ã€‚")])]),s._v(" "),n("p",[s._v("åˆ©ç”¨è¡¨å•æ§ä»¶çš„ "),n("code",[s._v("oninput")]),s._v("ã€"),n("code",[s._v("onchange")]),s._v(" ç­‰äº‹ä»¶,æŠŠæ§ä»¶æ•°æ®çš„ä¿®æ”¹å˜åŒ–é‡æ–°èµ‹å€¼å› jsã€‚")]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[n("code",[s._v("v-model")]),s._v("åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œå…¶æœ¬è´¨æ˜¯åŒ…å«"),n("code",[s._v("v-bind")]),s._v("çš„æ•°æ®å•å‘ä¼ é€’å’Œ"),n("code",[s._v("input")]),s._v("äº‹ä»¶ä¸­æ•°æ®å¯¹è±¡çš„é‡æ–°èµ‹å€¼ã€‚\nåœ¨è‡ªå®šä¹‰ç»„ä»¶æ—¶ï¼Œå¯è‡ªå®šä¹‰ model å±æ€§ï¼Œæä¾› v-model åŒå‘ç»‘å®š")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("  model"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    prop"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'checked'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    event"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'change'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("h2",{attrs:{id:"å“åº”å¼æ›´æ–°åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å“åº”å¼æ›´æ–°åŸç†"}},[s._v("#")]),s._v(" å“åº”å¼æ›´æ–°åŸç†")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("Object.defineProperty()")]),s._v(" "),n("p",[s._v("è€ç”Ÿå¸¸è°ˆ es5 çš„ä¸€ä¸ªæ•°æ®åŠ«æŒ api"),n("code",[s._v("Object.defineProperty()")]),s._v("ï¼ŒæŠŠæ•°æ®è½¬åŒ–ä¸º"),n("code",[s._v("getter/setter")]),s._v("ï¼Œä½¿å¾—æ•°æ®è·å–ä»¥åŠä¿®æ”¹éƒ½æ‰§è¡Œå¯¹åº”çš„å‡½æ•°ã€‚")])]),s._v(" "),n("li",[n("p",[n("code",[s._v("data")]),s._v("æ•°æ®è½¬åŒ–")]),s._v(" "),n("p",[s._v("å½“ä½ æŠŠä¸€ä¸ªæ™®é€šçš„ "),n("code",[s._v("JavaScript")]),s._v(" å¯¹è±¡ä¼ å…¥ Vue å®ä¾‹ä½œä¸º "),n("code",[s._v("data")]),s._v(" é€‰é¡¹ï¼ŒVue å°†éå†æ­¤å¯¹è±¡æ‰€æœ‰çš„ "),n("code",[s._v("property")]),s._v("ï¼Œå¹¶ä½¿ç”¨ "),n("code",[s._v("Object.defineProperty")]),s._v(" æŠŠè¿™äº› "),n("code",[s._v("property")]),s._v(" å…¨éƒ¨è½¬ä¸º getter/setterã€‚Object.defineProperty æ˜¯ ES5 ä¸­ä¸€ä¸ªæ— æ³• shim çš„ç‰¹æ€§ï¼Œè¿™ä¹Ÿå°±æ˜¯ Vue ä¸æ”¯æŒ "),n("code",[s._v("IE8")]),s._v("ä»¥åŠæ›´ä½ç‰ˆæœ¬æµè§ˆå™¨çš„åŸå› ã€‚")])]),s._v(" "),n("li",[n("p",[s._v("ä¾èµ–æ”¶é›†"),n("br"),s._v("\næ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½å¯¹åº”ä¸€ä¸ª "),n("code",[s._v("watcher")]),s._v(" å®ä¾‹ï¼Œå®ƒä¼šåœ¨ç»„ä»¶æ¸²æŸ“çš„è¿‡ç¨‹ä¸­æŠŠâ€œæ¥è§¦â€è¿‡çš„æ•°æ® "),n("code",[s._v("property")]),s._v(" è®°å½•ä¸ºä¾èµ–ã€‚ä¹‹åå½“ä¾èµ–é¡¹çš„ "),n("code",[s._v("setter")]),s._v(" è§¦å‘æ—¶ï¼Œä¼šé€šçŸ¥ "),n("code",[s._v("watcher")]),s._v("ï¼Œä»è€Œä½¿å®ƒå…³è”çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚")])])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("å…¶å®è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªå«åšè§‚å¯Ÿè€…æ¨¡å¼çš„è®¾è®¡æ¨¡å¼ï¼Œè®¾è®¡æ¨¡å¼åœ¨æœ¬ç«™ä¼šæœ‰è¯¦ç»†æè¿°ã€‚")])]),s._v(" "),n("p",[s._v("åŸºäº javascript ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜")]),s._v(" "),n("ul",[n("li",[s._v("å¯¹è±¡")])]),s._v(" "),n("p",[s._v("ç”±äº vue æ˜¯åœ¨åˆ›å»ºçš„æ—¶å€™è½¬åŒ– getter/setterï¼Œå› æ­¤åˆ›å»ºä¹‹åå†å¾€ data æ·»åŠ å±æ€§å°±ä¸æ˜¯å“åº”å¼ã€‚"),n("br"),s._v("\nå¯ä½¿ç”¨"),n("code",[s._v("this.$set")]),s._v("æˆ–"),n("code",[s._v("vue.set()")]),s._v("æ‰‹åŠ¨æ·»åŠ å¯¹è±¡çš„å“åº”å¼ã€‚")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("æ•°ç»„"),n("br"),s._v("\nå¯¹äºæ•°æ®ï¼Œå› ä¸ºæ€§èƒ½çš„åŸå› ï¼Œvue ä¸èƒ½ç›‘å¬ç›´æ¥ç”¨ç´¢å¼•ä¸‹æ ‡è®¾ç½®å€¼ä»¥åŠæ‰‹åŠ¨ä¿®æ”¹æ•°æ®é•¿åº¦ã€‚")]),s._v(" "),n("p",[s._v("å¯¹äºå‰è€…ï¼Œå¯ä½¿ç”¨"),n("code",[s._v("set()")]),s._v("api è®¾ç½®ï¼Œæˆ–"),n("code",[s._v("splice()")]),s._v("æ•°æ®æ–¹æ³•ã€‚\nå¯¹äºåè€…ï¼Œå¯ä½¿ç”¨"),n("code",[s._v("splice()")])])])]),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("Vue å°†è¢«ä¾¦å¬çš„æ•°ç»„çš„å˜æ›´æ–¹æ³•è¿›è¡Œäº†åŒ…è£¹,æ‰€ä»¥å®ƒä»¬ä¹Ÿå°†ä¼šè§¦å‘è§†å›¾æ›´æ–°ã€‚è¿™äº›è¢«åŒ…è£¹è¿‡çš„æ–¹æ³•åŒ…æ‹¬:push() pop() shift() unshift() splice() sort() reverse()ã€‚")])]),s._v(" "),n("h2",{attrs:{id:"è™šæ‹Ÿ-dom-å’Œ-diff-ç®—æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿ-dom-å’Œ-diff-ç®—æ³•"}},[s._v("#")]),s._v(" è™šæ‹Ÿ dom å’Œ diff ç®—æ³•")]),s._v(" "),n("ul",[n("li",[s._v("è™šæ‹Ÿ dom"),n("br"),s._v("\nè™šæ‹Ÿ dom æ˜¯ç”¨ js å¯¹è±¡æ¨¡æ‹ŸçœŸå® domï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ª js æ•°æ®ã€‚å°±è¿™ä¹ˆç®€å• ğŸ˜­")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("diff ç®—æ³•"),n("br"),s._v("\nDiff ç®—æ³•æ˜¯ä¸€ç§"),n("code",[s._v("å¯¹æ¯”ç®—æ³•")]),s._v("ã€‚å¯¹æ¯”ä¸¤è€…æ˜¯"),n("code",[s._v("æ—§è™šæ‹Ÿ DOM")]),s._v(" å’Œ"),n("code",[s._v("æ–°è™šæ‹Ÿ DOM")]),s._v("ï¼Œå¯¹æ¯”å‡ºæ˜¯å“ªä¸ªè™šæ‹ŸèŠ‚ç‚¹æ›´æ”¹äº†ï¼Œæ‰¾å‡ºè¿™ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œå¹¶åªæ›´æ–°è¿™ä¸ªè™šæ‹ŸèŠ‚ç‚¹æ‰€å¯¹åº”çš„çœŸå®èŠ‚ç‚¹ï¼Œè€Œä¸ç”¨æ›´æ–°å…¶ä»–æ•°æ®æ²¡å‘ç”Ÿæ”¹å˜çš„èŠ‚ç‚¹ï¼Œå®ç°ç²¾å‡†åœ°æ›´æ–°çœŸå® DOMï¼Œè¿›è€Œæé«˜æ•ˆç‡ ğŸ®ğŸº")])]),s._v(" "),n("li",[n("p",[s._v("é«˜æ•ˆæ›´æ–° dom"),n("br"),s._v("\nè™šæ‹Ÿ dom+diff ç®—æ³•ï¼Œå¯¹æ¯”è®¡ç®—å‡ºæ›´æ”¹çš„éƒ¨åˆ†ï¼Œç„¶ååªé’ˆå¯¹è¿™éƒ¨åˆ†åšä¿®æ”¹ï¼Œå¯ä»¥æœ€å¤§ç¨‹åº¦å‡å°‘é¡µé¢é‡ç»˜å’Œé‡æ’ã€‚ğŸ‘")])]),s._v(" "),n("li",[n("p",[s._v("Diff ç®—æ³•çš„åŸç†")]),s._v(" "),n("blockquote",[n("p",[s._v("å…¶å®å°±æ˜¯å¯¹æ¯”çš„æ–¹å¼ã€å¯¹æ¯”çš„æµç¨‹")])])])]),s._v(" "),n("ol",[n("li",[s._v("Diff åŒå±‚å¯¹æ¯”"),n("br"),s._v("\næ–°æ—§è™šæ‹Ÿ DOM å¯¹æ¯”çš„æ—¶å€™ï¼ŒDiff ç®—æ³•æ¯”è¾ƒåªä¼šåœ¨åŒå±‚çº§è¿›è¡Œ, ä¸ä¼šè·¨å±‚çº§æ¯”è¾ƒã€‚ æ‰€ä»¥ Diff ç®—æ³•æ˜¯:"),n("code",[s._v("æ·±åº¦ä¼˜å…ˆç®—æ³•")]),s._v("ã€‚ æ—¶é—´å¤æ‚åº¦:"),n("code",[s._v("O(n)")])]),s._v(" "),n("li",[s._v("å¯¹æ¯”æµç¨‹"),n("br"),s._v("\nå½“æ•°æ®æ”¹å˜æ—¶ï¼Œä¼šè§¦å‘"),n("code",[s._v("setter")]),s._v("ï¼Œå¹¶ä¸”é€šè¿‡ "),n("code",[s._v("Dep.notify")]),s._v(" å»é€šçŸ¥æ‰€æœ‰è®¢é˜…è€… Watcherï¼Œè®¢é˜…è€…ä»¬å°±ä¼šè°ƒç”¨ "),n("code",[s._v("patch")]),s._v(" æ–¹æ³•ï¼Œç»™çœŸå® DOM æ‰“è¡¥ä¸ï¼Œæ›´æ–°ç›¸åº”çš„è§†å›¾ã€‚")])]),s._v(" "),n("p",[n("strong",[s._v("é‡ç‚¹æ¦‚å¿µå›¾")])]),s._v(" "),n("img",{attrs:{src:a(402)}}),s._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[n("code",[s._v("patch æ–¹æ³•")]),s._v("\nè¿™ä¸ªæ–¹æ³•ä½œç”¨å°±æ˜¯ï¼Œå¯¹æ¯”å½“å‰åŒå±‚çš„è™šæ‹ŸèŠ‚ç‚¹æ˜¯å¦ä¸ºåŒä¸€ç§ç±»å‹çš„æ ‡ç­¾ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ˜¯ï¼šç»§ç»­æ‰§è¡Œ patchVnode æ–¹æ³•è¿›è¡Œæ·±å±‚æ¯”å¯¹")]),s._v(" "),n("li",[s._v("å¦ï¼šæ²¡å¿…è¦æ¯”å¯¹äº†ï¼Œç›´æ¥æ•´ä¸ªèŠ‚ç‚¹æ›¿æ¢æˆæ–°è™šæ‹ŸèŠ‚ç‚¹")])])]),s._v(" "),n("li",[n("p",[n("code",[s._v("sameVnode æ–¹æ³•")]),s._v("\npatch å…³é”®çš„ä¸€æ­¥å°±æ˜¯ sameVnode æ–¹æ³•åˆ¤æ–­æ˜¯å¦ä¸º"),n("code",[s._v("åŒä¸€ç±»å‹èŠ‚ç‚¹")]),s._v("ğŸ˜Š")])])]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sameVnode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("oldVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" newVnode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    oldVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" newVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// key å€¼æ˜¯å¦ä¸€æ ·")]),s._v("\n    oldVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tagName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" newVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tagName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ ‡ç­¾åæ˜¯å¦ä¸€æ ·")]),s._v("\n    oldVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("isComment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" newVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("isComment "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ˜¯å¦éƒ½ä¸ºæ³¨é‡ŠèŠ‚ç‚¹")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isDef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oldVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("isDef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("newVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ˜¯å¦éƒ½å®šä¹‰äº† data")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sameInputType")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("oldVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" newVnode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å½“æ ‡ç­¾ä¸º input æ—¶ï¼Œtype å¿…é¡»æ˜¯å¦ç›¸åŒ")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"patchvnode-æ–¹æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#patchvnode-æ–¹æ³•"}},[s._v("#")]),s._v(" patchVnode æ–¹æ³•")]),s._v(" "),n("p",[s._v("è¿™ä¸ªå‡½æ•°åšäº†ä»¥ä¸‹äº‹æƒ…ï¼š")]),s._v(" "),n("ul",[n("li",[s._v("æ‰¾åˆ°å¯¹åº”çš„çœŸå® DOMï¼Œç§°ä¸º "),n("code",[s._v("el")])]),s._v(" "),n("li",[s._v("åˆ¤æ–­ "),n("code",[s._v("newVnode")]),s._v(" å’Œ "),n("code",[s._v("oldVnode")]),s._v(" æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆç›´æ¥ return")]),s._v(" "),n("li",[s._v("å¦‚æœä»–ä»¬éƒ½æœ‰æ–‡æœ¬èŠ‚ç‚¹å¹¶ä¸”ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆå°† "),n("code",[s._v("el")]),s._v(" çš„æ–‡æœ¬èŠ‚ç‚¹è®¾ç½®ä¸º "),n("code",[s._v("newVnode")]),s._v(" çš„æ–‡æœ¬èŠ‚ç‚¹ã€‚")]),s._v(" "),n("li",[s._v("å¦‚æœ "),n("code",[s._v("oldVnode")]),s._v(" æœ‰å­èŠ‚ç‚¹è€Œ "),n("code",[s._v("newVnode")]),s._v(" æ²¡æœ‰ï¼Œåˆ™åˆ é™¤ "),n("code",[s._v("el")]),s._v(" çš„å­èŠ‚ç‚¹")]),s._v(" "),n("li",[s._v("å¦‚æœ "),n("code",[s._v("oldVnode")]),s._v(" æ²¡æœ‰å­èŠ‚ç‚¹è€Œ "),n("code",[s._v("newVnode")]),s._v(" æœ‰ï¼Œåˆ™å°† "),n("code",[s._v("newVnode")]),s._v(" çš„å­èŠ‚ç‚¹çœŸå®åŒ–ä¹‹åæ·»åŠ åˆ° "),n("code",[s._v("el")])]),s._v(" "),n("li",[s._v("å¦‚æœä¸¤è€…éƒ½æœ‰å­èŠ‚ç‚¹ï¼Œåˆ™æ‰§è¡Œ "),n("code",[s._v("updateChildren")]),s._v(" å‡½æ•°æ¯”è¾ƒå­èŠ‚ç‚¹ï¼Œè¿™ä¸€æ­¥å¾ˆé‡è¦")])]),s._v(" "),n("h3",{attrs:{id:"updatechildren-æ–¹æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#updatechildren-æ–¹æ³•"}},[s._v("#")]),s._v(" updateChildren æ–¹æ³•")]),s._v(" "),n("p",[s._v("è¿™æ˜¯ patchVnode é‡Œæœ€é‡è¦çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæ–°æ—§è™šæ‹ŸèŠ‚ç‚¹çš„å­èŠ‚ç‚¹å¯¹æ¯”ï¼Œå°±æ˜¯å‘ç”Ÿåœ¨ updateChildren æ–¹æ³•ä¸­")]),s._v(" "),n("img",{attrs:{src:a(403)}}),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("ä¸Šé¢çš„ä¾‹å­æ˜¯ newCh æ¯” oldCh å¤šï¼Œå‡å¦‚ç›¸åï¼Œæ˜¯ oldCh æ¯” newCh å¤šçš„è¯ï¼Œé‚£å°±æ˜¯ newCh å…ˆèµ°å®Œå¾ªç¯ï¼Œç„¶å oldCh ä¼šæœ‰å¤šå‡ºçš„èŠ‚ç‚¹ï¼Œç»“æœä¼šåœ¨çœŸå® DOM é‡Œè¿›è¡Œåˆ é™¤è¿™äº›æ—§èŠ‚ç‚¹ã€‚")])]),s._v(" "),n("h3",{attrs:{id:"v-for-ä½¿ç”¨-index-ä½œ-key"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#v-for-ä½¿ç”¨-index-ä½œ-key"}},[s._v("#")]),s._v(" v-for ä½¿ç”¨ index ä½œ key")]),s._v(" "),n("p",[s._v("ç®€å•è®²ä¼šå½±å“æ€§èƒ½ï¼Œå› ä¸º diff ç®—æ³•åŸç†çš„ç¼˜æ•…ï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦ dom æ›´æ–°ã€‚\n"),n("img",{attrs:{src:a(404)}})]),s._v(" "),n("h3",{attrs:{id:"è‡ªæˆ‘å°ç»“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªæˆ‘å°ç»“"}},[s._v("#")]),s._v(" è‡ªæˆ‘å°ç»“")]),s._v(" "),n("p",[s._v("å…¶å®ä¸Šè¿°å†…å®¹éƒ½æ˜¯ä¾æ® "),n("a",{attrs:{href:"https://juejin.cn/post/6994959998283907102"}},[s._v("15 å¼ å›¾ï¼Œ20 åˆ†é’Ÿåƒé€ Diff ç®—æ³•æ ¸å¿ƒåŸç†ï¼Œæˆ‘è¯´çš„ï¼ï¼ï¼ ")]),n("br"),s._v("\nç®€å•æ¥è¯´ï¼Œè™šæ‹Ÿ dom+diff ç®—æ³•å¯ä»¥ç”¨æ¥å®ç°ä»¥æœ€å°å¼€é”€æ›´æ–°é¡µé¢ï¼Œå†è¡¥å…… ğŸ¦‘ æºªå¯¹äºé¡µé¢æ•°æ®æ›´æ–°æ€§èƒ½çš„ç†è§£"),n("a",{attrs:{href:"https://www.zhihu.com/question/31809713/answer/53544875"}},[s._v("çœ‹ ğŸ¦‘ æºªçš„å›ç­”")]),n("br"),s._v("\næ€»çš„æ¥è¯´ï¼Œvue é‡‡ç”¨è™šæ‹Ÿ dom+diff ç®—æ³•æ˜¯å‡è¡¡è€ƒè™‘ï¼Œè€Œä¸Šæ–‡ä¹Ÿç»“åˆ ğŸŒ° è¯´æ˜ diff ç®—æ³•å…¨è¿‡ç¨‹ï¼Œä¸ªä¸­æ¶‰åŠç®—æ³•ï¼ŒåŒæ—¶ä¹Ÿè§£å†³äº†å¾ˆå¤šä»£ç å±‚é¢ä¸Šè¡¨ç°åº”é¿å¼€çš„ç¼ºé™·ã€‚")]),s._v(" "),n("h2",{attrs:{id:"vue-æ¸²æŸ“"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue-æ¸²æŸ“"}},[s._v("#")]),s._v(" vue æ¸²æŸ“")]),s._v(" "),n("h3",{attrs:{id:"æ¸²æŸ“æµç¨‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¸²æŸ“æµç¨‹"}},[s._v("#")]),s._v(" æ¸²æŸ“æµç¨‹")]),s._v(" "),n("img",{attrs:{src:a(405)}}),s._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),n("p",[s._v("vue åŒ…æ‹¬åŒ…æ‹¬ä¸¤ç§ç‰ˆæœ¬ï¼Œè¿è¡Œæ—¶ + ç¼–è¯‘å™¨ å’Œ åªåŒ…å«è¿è¡Œæ—¶ï¼Œç¼–è¯‘å™¨ç”¨æ¥æŠŠ vue æ¨¡ç‰ˆç¼–è¯‘æˆ render å‡½æ•°ï¼Œå°±æ˜¯ä¸Šå›¾çš„ compile()")])]),s._v(" "),n("p",[s._v("æœ¬å°èŠ‚ä¾§é‡è®²è§£ vue åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæ¸²æŸ“éƒ¨åˆ†ï¼Œå…¶ä½™ç”Ÿå‘½å‘¨æœŸé’©å­ä¸å±•å¼€ã€‚")]),s._v(" "),n("h4",{attrs:{id:"mount"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mount"}},[s._v("#")]),s._v(" "),n("code",[s._v("$mount")])]),s._v(" "),n("p",[s._v("åœ¨ new Vue()å®ä¾‹æ—¶ï¼Œå¦‚æœå­˜åœ¨"),n("code",[s._v("el")]),s._v("é€‰é¡¹ï¼Œå®ä¾‹å°†ç«‹å³è¿›å…¥ç¼–è¯‘è¿‡ç¨‹ï¼Œå¦åˆ™ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨ vm.$mount() æ‰‹åŠ¨å¼€å¯ç¼–è¯‘ã€‚\nå¯è§ä¸Šå›¾"),n("code",[s._v("$mount")]),s._v(" æ˜¯è¿›å…¥ç¼–è¯‘çŠ¶æ€ï¼Œç¼–è¯‘æ¨¡ç‰ˆè¯­æ³•ã€‚")]),s._v(" "),n("h4",{attrs:{id:"compile-æ–¹æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#compile-æ–¹æ³•"}},[s._v("#")]),s._v(" "),n("code",[s._v("compile()æ–¹æ³•")])]),s._v(" "),n("p",[s._v("Vue çš„æ¨¡æ¿ç¼–è¯‘æ˜¯åœ¨ "),n("code",[s._v("$mount")]),s._v(" çš„è¿‡ç¨‹ä¸­è¿›è¡Œçš„ï¼Œåœ¨ $mount çš„æ—¶å€™æ‰§è¡Œäº† "),n("code",[s._v("compile")]),s._v(" è¿™ä¸ªæ–¹æ³•æ¥å°† "),n("code",[s._v("template")]),s._v(" é‡Œçš„å†…å®¹è½¬æ¢æˆ "),n("code",[s._v("render")]),s._v(" å‡½æ•°ï¼Œç­‰å¾…è°ƒç”¨ã€‚")]),s._v(" "),n("p",[s._v("compile å«æœ‰ä¸‰ä¸ªé˜¶æ®µï¼š")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("parse å‡½æ•°è§£æ template")]),s._v(" "),n("p",[s._v("parse å‡½æ•°é‡Œå®šä¹‰äº†è®¸å¤šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šè¿‡å¯¹æ ‡ç­¾åå¼€å¤´ã€æ ‡ç­¾åç»“å°¾ã€å±æ€§å­—æ®µã€æ–‡æœ¬å†…å®¹ç­‰ç­‰çš„é€’å½’åŒ¹é…ã€‚æŠŠå­—ç¬¦ä¸²ç±»å‹çš„ template è½¬åŒ–æˆäº†æ ‘çŠ¶ç»“æ„çš„ ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ã€‚")])]),s._v(" "),n("li",[n("p",[s._v("æ ‡è®°é™æ€æ ¹èŠ‚ç‚¹")]),s._v(" "),n("p",[s._v("å¯¹ parse ç”Ÿæˆçš„ AST è¿›è¡Œé™æ€å†…å®¹çš„ä¼˜åŒ–ã€‚é™æ€å†…å®¹æŒ‡çš„æ˜¯å’Œæ•°æ®æ²¡æœ‰å…³ç³»ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ·æ–°çš„å†…å®¹ã€‚æ ‡è®°é™æ€èŠ‚ç‚¹çš„ä½œç”¨æ˜¯ä¸ºäº†åœ¨åé¢åš Vnode çš„ diff æ—¶èµ·ä½œç”¨ï¼Œç”¨æ¥ç¡®è®¤ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦åº”è¯¥åš patch è¿˜æ˜¯ç›´æ¥è·³è¿‡ã€‚")])]),s._v(" "),n("li",[n("p",[s._v("generate å‡½æ•°åˆ›å»º render å‡½æ•°å­—ç¬¦ä¸²")]),s._v(" "),n("p",[s._v("é€šè¿‡ generate å‡½æ•°ï¼Œé€’å½’ ASTï¼Œä¸ºæ¯ä¸ª AST èŠ‚ç‚¹ç”Ÿæˆ render å‡½æ•°ã€‚")])])]),s._v(" "),n("h4",{attrs:{id:"watcher"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#watcher"}},[s._v("#")]),s._v(" "),n("code",[s._v("watcher")])]),s._v(" "),n("p",[s._v("ç¼–è¯‘åç”Ÿæˆ render å‡½æ•°ï¼Œæ‰§è¡Œåå°±ä¼šç”Ÿæˆè™šæ‹Ÿ domï¼ŒåŒæ—¶ new watcher(),æ”¶é›†ä¾èµ–é›†åˆä¸€èµ·ï¼Œè¿™é‡ŒåŸ‹ä¸ªå‘ï¼Œäº¤ç»™è®¾è®¡æ¨¡å¼ã€‚ï¼ˆä¸Šé¢å“åº”å¼åŸç†ä¹Ÿæœ‰è®²åˆ°ï¼Œæ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼‰")]),s._v(" "),n("p",[s._v("å‚è€ƒé“¾æ¥ ğŸ”— "),n("a",{attrs:{href:"https://blog.csdn.net/qq_40413670/article/details/117714765",target:"__brank"}},[s._v("vue ä¸­ä¸‰ç§ watcher")])]),s._v(" "),n("h4",{attrs:{id:"patch"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#patch"}},[s._v("#")]),s._v(" "),n("code",[s._v("patch")])]),s._v(" "),n("p",[s._v("å½“ setter æ•°æ®æœ‰æ›´æ–°æ—¶ï¼Œæ‰§è¡Œé‡æ–°ç”Ÿæˆ new vdom ç»“åˆ diff ç®—æ³•ï¼Œä¸Šé¢ä¹Ÿæœ‰è®²åˆ°ã€‚")]),s._v(" "),n("h3",{attrs:{id:"compile-è¯¦è§£"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#compile-è¯¦è§£"}},[s._v("#")]),s._v(" compile è¯¦è§£")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://blog.csdn.net/wang729506596/article/details/90947583",target:"__brank"}},[s._v("compile è¯¦è§£å‚è€ƒæ–‡ç« ")])]),s._v(" "),n("p",[n("strong",[s._v("parse å‡½æ•°")]),s._v("\nåœ¨äº†è§£ parse çš„è¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ ASTï¼Œ"),n("code",[s._v("AST")]),s._v(" çš„å…¨ç§°æ˜¯ Abstract Syntax Treeï¼Œä¹Ÿå°±æ˜¯æ‰€è°“æŠ½è±¡è¯­æ³•æ ‘ï¼Œç”¨æ¥è¡¨ç¤ºä»£ç çš„æ•°æ®ç»“æ„ã€‚åœ¨ Vue ä¸­æˆ‘æŠŠå®ƒç†è§£ä¸ºåµŒå¥—çš„ã€æºå¸¦æ ‡ç­¾åã€å±æ€§å’Œçˆ¶å­å…³ç³»çš„ JS å¯¹è±¡ï¼Œä»¥æ ‘æ¥è¡¨ç° DOM ç»“æ„ã€‚")]),s._v(" "),n("p",[s._v("vue ä¸­çš„ ast ç±»å‹æœ‰ä»¥ä¸‹ 3 ç§:")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("ASTElement "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ASTæ ‡ç­¾å…ƒç´ ")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  tag"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  attrsList"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Array"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" any "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  attrsMap"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" any "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  parent"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ASTElement "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  children"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Array"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("ASTNode"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nASTExpression "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ASTè¡¨è¾¾å¼ {{ }}")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  expression"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  tokens"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Array"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("string "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" Object"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" boolean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nASTText "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ASTæ–‡æœ¬")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" string"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" boolean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n  isComment"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" boolean"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("é€šè¿‡ children å­—æ®µæ¥å½¢æˆä¸€ç§å±‚å±‚åµŒå¥—çš„æ ‘çŠ¶ç»“æ„ã€‚vue ä¸­å®šä¹‰äº†è®¸å¤šæ­£åˆ™(åˆ¤æ–­æ ‡ç­¾å¼€å§‹ã€ç»“æŸã€å±æ€§ã€vue æŒ‡ä»¤ã€æ–‡æœ¬)ï¼Œé€šè¿‡å¯¹ html å†…å®¹è¿›è¡Œé€’å½’æ­£åˆ™åŒ¹é…ï¼Œå¯¹æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸²è¿›è¡Œæˆªå–ã€‚æŠŠå­—ç¬¦ä¸²ç±»å‹çš„ html è½¬æ¢ä½ AST ç»“æ„")]),s._v(" "),n("blockquote",[n("p",[s._v("parse å‡½æ•°çš„ä½œç”¨å°±æ˜¯æŠŠå­—ç¬¦ä¸²å‹çš„ template è½¬åŒ–ä¸º AST ç»“æ„")])]),s._v(" "),n("p",[s._v("ğŸŒ°")]),s._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("id")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("â€œtestâ€"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("texttext"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("è½¬åŒ–ä¸º")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[s._v("ele1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  tag"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"div"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  attrsList"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  attrsMap"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"test"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  parent"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("undefined")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  children"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      type"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      text"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"texttext"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  plain"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  attrs"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"'test'\"")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("ç®€å•æ¥è¯´ï¼Œtemplate çš„ parse è¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯ä¸æ–­çš„æˆªå–å­—ç¬¦ä¸²å¹¶è§£æå®ƒä»¬çš„è¿‡ç¨‹ã€‚")]),s._v(" "),n("p",[s._v("åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆªå–åˆ°éé—­åˆæ ‡ç­¾å°± push åˆ° stack ä¸­ï¼Œå¦‚æœæˆªå–é“ç»“æŸæ ‡ç­¾å°±æŠŠè¿™ä¸ªæ ‡ç­¾ pop å‡ºæ¥ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("optimize ä¼˜åŒ–")]),s._v("\noptimize çš„ä½œç”¨ä¸»è¦æ˜¯å¯¹ç”Ÿæˆçš„ AST è¿›è¡Œé™æ€å†…å®¹çš„ä¼˜åŒ–ï¼Œæ ‡è®°é™æ€èŠ‚ç‚¹ã€‚æ‰€è°“é™æ€å†…å®¹ï¼ŒæŒ‡çš„æ˜¯å’Œæ•°æ®æ²¡æœ‰å…³ç³»ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½æ›´æ–°çš„å†…å®¹ã€‚"),n("br"),s._v("\næ ‡è®°é™æ€èŠ‚ç‚¹çš„ä½œç”¨çš„ä½œç”¨æ˜¯ä¸ºäº†ä¹‹å dom diff æ—¶ï¼Œæ˜¯å¦éœ€è¦ patchï¼Œdiff ç®—æ³•ä¼šç›´æ¥è·³è¿‡é™æ€èŠ‚ç‚¹ï¼Œä»è€Œå‡å°‘äº†æ¯”è¾ƒçš„è¿‡ç¨‹ï¼Œä¼˜åŒ–äº† patch çš„æ€§èƒ½ã€‚")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1. å¦‚æœæ˜¯è¡¨è¾¾å¼ASTèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› false\n2. å¦‚æœæ˜¯æ–‡æœ¬ASTèŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› true\n3. å¦‚æœå…ƒç´ æ˜¯å…ƒç´ èŠ‚ç‚¹ï¼Œé˜¶æ®µæœ‰ v-pre æŒ‡ä»¤ ||\n  1. æ²¡æœ‰ä»»ä½•æŒ‡ä»¤ã€æ•°æ®ç»‘å®šã€äº‹ä»¶ç»‘å®šç­‰ &amp;&amp;\n  2. æ²¡æœ‰ v-if å’Œ v-for &amp;&amp;\n  3. ä¸æ˜¯ slot å’Œ component &amp;&amp;\n  4. æ˜¯ HTML ä¿ç•™æ ‡ç­¾ &amp;&amp;\n  5. ä¸æ˜¯ template æ ‡ç­¾çš„ç›´æ¥å­å…ƒç´ å¹¶ä¸”æ²¡æœ‰åŒ…å«åœ¨ for å¾ªç¯ä¸­\n  åˆ™è¿”å› true\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("ç®€å•æ¥è¯´ï¼Œæ²¡æœ‰ä½¿ç”¨ vue ç‹¬æœ‰çš„è¯­æ³•çš„èŠ‚ç‚¹å°±å¯ä»¥ç§°ä¸ºé™æ€èŠ‚ç‚¹")]),s._v(" "),n("p",[s._v("åˆ¤æ–­ä¸€ä¸ªçˆ¶çº§å…ƒç´ æ˜¯é™æ€èŠ‚ç‚¹ï¼Œåˆ™éœ€è¦åˆ¤æ–­å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ˜¯é™æ€èŠ‚ç‚¹ï¼Œå¦åˆ™å°±ä¸æ˜¯é™æ€èŠ‚ç‚¹")]),s._v(" "),n("p",[s._v("æ ‡è®°é™æ€èŠ‚ç‚¹çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªä¸æ–­é€’å½’çš„è¿‡ç¨‹")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" l "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" l"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" child "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("children"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("markStatic")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("child"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("static"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    node"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("static "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("markStatic æ–¹æ³•æ˜¯ç”¨æ¥æ ‡è®°é™æ€èŠ‚ç‚¹çš„æ–¹æ³•ï¼Œå®ƒä¼šä¸æ–­çš„å¾ªç¯ children,å¦‚æœ children è¿˜æœ‰ childrenï¼Œåˆ™èµ°ç›¸åŒçš„é€»è¾‘ã€‚è¿™æ ·æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¼šè¢«æ‰“ä¸Šæ ‡è®°ã€‚")]),s._v(" "),n("p",[s._v("åœ¨å¾ªç¯ä¸­ä¼šåˆ¤æ–­ï¼Œå­èŠ‚ç‚¹æ˜¯å¦ä¸ºé™æ€èŠ‚ç‚¹ï¼Œå¦‚æœä¸æ˜¯åˆ™å…¶çˆ¶èŠ‚ç‚¹ä¸æ˜¯é™æ€èŠ‚ç‚¹ã€‚")]),s._v(" "),n("p",[n("strong",[s._v("generate ç”Ÿæˆ render å‡½æ•°")]),s._v("\ngenerate æ˜¯å°† AST è½¬åŒ–æˆ render funtion å­—ç¬¦ä¸²çš„è¿‡ç¨‹ï¼Œä»–é€’å½’äº† ASTï¼Œå¾—åˆ°ç»“æœæ˜¯ render çš„å­—ç¬¦ä¸²ã€‚\nrender å‡½æ•°çš„å°±æ˜¯è¿”å›ä¸€ä¸ª_c(â€˜tagNameâ€™,data,children)çš„æ–¹æ³•")]),s._v(" "),n("ol",[n("li",[s._v("ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ‡ç­¾å")]),s._v(" "),n("li",[s._v("ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»–çš„ä¸€äº›æ•°æ®ï¼ŒåŒ…æ‹¬å±æ€§/æŒ‡ä»¤/æ–¹æ³•ï¼è¡¨è¾¾å¼ç­‰ç­‰ã€‚")]),s._v(" "),n("li",[s._v("ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å½“å‰æ ‡ç­¾çš„å­æ ‡ç­¾,åŒæ ·çš„ï¼Œæ¯ä¸€ä¸ªå­æ ‡ç­¾çš„æ ¼å¼ä¹Ÿæ˜¯_c(â€˜tagNameâ€™,data,children)ã€‚")])]),s._v(" "),n("p",[s._v("generate å°±æ˜¯é€šè¿‡ä¸æ–­é€’å½’å½¢æˆäº†è¿™ä¹ˆä¸€ç§æ ‘å½¢ç»“æ„ã€‚")]),s._v(" "),n("img",{attrs:{src:a(406)}}),s._v(" "),n("ol",[n("li",[s._v("genElementï¼šç”¨æ¥ç”ŸæˆåŸºæœ¬çš„ render ç»“æ„æˆ–è€…å« createElement ç»“æ„")]),s._v(" "),n("li",[s._v("genData: å¤„ç† ast ç»“æ„ä¸Šçš„ä¸€äº›å±æ€§ï¼Œç”¨æ¥ç”Ÿæˆ data")]),s._v(" "),n("li",[s._v("genChildren:å¤„ç† ast çš„ children,å¹¶åœ¨å†…éƒ¨è°ƒç”¨ genElement,å½¢æˆå­å…ƒç´ çš„_c()æ–¹æ³•")])]),s._v(" "),n("p",[s._v("render å­—ç¬¦ä¸²å†…éƒ¨æœ‰å‡ ç§æ–¹æ³•:")]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("å‡ ç§å†…éƒ¨æ–¹æ³•\n_cï¼šå¯¹åº”çš„æ˜¯ createElement æ–¹æ³•ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒçš„å«ä¹‰æ˜¯åˆ›å»ºä¸€ä¸ªå…ƒç´ (Vnode)\n_vï¼šåˆ›å»ºä¸€ä¸ªæ–‡æœ¬ç»“ç‚¹ã€‚\n_sï¼šæŠŠä¸€ä¸ªå€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ï¼ˆeg: {{data}}ï¼‰\n_mï¼šæ¸²æŸ“é™æ€å†…å®¹\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('ğŸŒ°\n<template>\n  <div id="app">\n    {{val}}\n    <img src="http://xx.jpg">\n  </div>\n</template>\n\n{\n  render: with(this) {\n    return _c(\'div\', {\n      attrs: {\n        "id": "app"\n      }\n    }, [_v("\\n" + _s(val) + "\\n"),\n        _c(\'img\', {\n              attrs: {\n                "src": ""\n              }\n            })\n        ]\n    )\n  }\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("blockquote",[n("p",[s._v("vue template æ¨¡æ¿ç¼–è¯‘çš„è¿‡ç¨‹ç»è¿‡ parse()ç”Ÿæˆ ast(æŠ½è±¡è¯­æ³•æ ‘),optimize å¯¹é™æ€èŠ‚ç‚¹ä¼˜åŒ–ï¼Œgenerate()ç”Ÿæˆ render å­—ç¬¦ä¸²")])]),s._v(" "),n("h3",{attrs:{id:"ast-æŠ½è±¡è¯­æ³•æ ‘"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ast-æŠ½è±¡è¯­æ³•æ ‘"}},[s._v("#")]),s._v(" ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰")]),s._v(" "),n("p",[s._v("æ— è®ºæ˜¯ä»£ç ç¼–è¯‘ï¼ˆbabelï¼‰ï¼Œæ‰“åŒ…ï¼ˆwebpackï¼‰ï¼Œä»£ç å‹ç¼©ï¼Œcss é¢„å¤„ç†ï¼Œä»£ç æ ¡éªŒï¼ˆeslintï¼‰ï¼Œä»£ç ç¾åŒ–ï¼ˆpretiierï¼‰ï¼ŒVue ä¸­å¯¹ template çš„ç¼–è¯‘ï¼Œè¿™äº›çš„å®ç°éƒ½ç¦»ä¸å¼€ ASTã€‚")]),s._v(" "),n("blockquote",[n("p",[s._v("æˆ‘çš„ç†è§£å°±æ˜¯æŠŠé«˜çº§è¯­è¨€è¯­æ³•è½¬åŒ–ä¸ºæ›´æœ‰è§„å¾‹æ›´ä½ä¸€å±‚çš„è¯­æ³•æ ‘ã€‚")])]),s._v(" "),n("h4",{attrs:{id:"ä»€ä¹ˆæ˜¯-ast"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-ast"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯ AST")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://juejin.cn/post/6844904019505184776",target:"__brank"}},[s._v("å‚è€ƒé“¾æ¥ ğŸ”— ")])]),s._v(" "),n("p",[s._v("AST æ˜¯å¯¹æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ä¸åŒçš„åœºæ™¯ä¸‹ï¼Œä¼šæœ‰ä¸åŒçš„è§£æå™¨å°†æºç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ã€‚")]),s._v(" "),n("p",[s._v("ğŸŒ°")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" answer "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("è½¬åŒ–")]),s._v(" "),n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Program"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"body"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"VariableDeclaration"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"declarations"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"VariableDeclarator"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"id"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Identifier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"answer"')]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"init"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"BinaryExpression"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"operator"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"left"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Literal"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"raw"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"right"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Literal"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"value"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"raw"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v("\n                        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kind"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"let"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"sourceType"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"script"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br")])]),n("h4",{attrs:{id:"ast-æ˜¯å¦‚ä½•ç”Ÿæˆçš„"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ast-æ˜¯å¦‚ä½•ç”Ÿæˆçš„"}},[s._v("#")]),s._v(" AST æ˜¯å¦‚ä½•ç”Ÿæˆçš„")]),s._v(" "),n("p",[s._v("AST æ˜¯é€šè¿‡ JS Parser ï¼ˆè§£æå™¨ï¼‰ï¼Œå°† js æºç è½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼Œä¸»è¦åˆ†ä¸ºä¸¤æ­¥")]),s._v(" "),n("ol",[n("li",[s._v("åˆ†è¯\nå°†æ•´ä¸ªçš„ä»£ç å­—ç¬¦ä¸²ï¼Œåˆ†å‰²æˆè¯­æ³•å•å…ƒæ•°ç»„ï¼ˆtokenï¼‰ã€‚ JS ä¸­çš„è¯­æ³•å•å…ƒï¼ˆtokenï¼‰æŒ‡æ ‡è¯†ç¬¦ï¼ˆfunctionï¼Œreturnï¼‰ï¼Œè¿ç®—ç¬¦ï¼Œæ‹¬å·ï¼Œæ•°å­—ï¼Œå­—ç¬¦ä¸²ç­‰èƒ½è§£æçš„æœ€å°å•å…ƒã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š")])]),s._v(" "),n("div",{staticClass:"language-text line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("æ ‡è¯†ç¬¦\næ²¡æœ‰è¢«å¼•å·æ‹¬èµ·æ¥çš„è¿ç»­å­—ç¬¦ï¼Œå¯ä»¥åŒ…å«å­—æ¯ã€æ•°å­—ã€_ã€$ï¼Œå…¶ä¸­æ•°å­—ä¸èƒ½ä½œä¸ºå¼€å¤´ã€‚\næ ‡è¯†ç¬¦å¯èƒ½æ˜¯varï¼Œreturnï¼Œfunctionç­‰å…³é”®å­—ï¼Œä¹Ÿå¯èƒ½æ˜¯trueï¼Œfalseè¿™æ ·çš„å†…ç½®å¸¸é‡ï¼Œæˆ–æ˜¯ä¸€ä¸ªå˜é‡ã€‚å…·ä½“æ˜¯å“ªç§è¯­ä¹‰ï¼Œåˆ†è¯é˜¶æ®µä¸åŒºåˆ†ï¼Œåªè¦æ­£ç¡®æ‹†åˆ†å³å¯ã€‚\n\næ•°å­—\nåå…­è¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œå…«è¿›åˆ¶ä»¥åŠç§‘å­¦è¡¨è¾¾å¼ç­‰éƒ½æ˜¯æœ€å°å•å…ƒ\n\nè¿ç®—ç¬¦ï¼š +ã€-ã€ *ã€/ ç­‰\n\nå­—ç¬¦ä¸² å¯¹è®¡ç®—æœºè€Œè¨€ï¼Œå­—ç¬¦ä¸²åªä¼šå‚ä¸è®¡ç®—å’Œå±•ç¤ºï¼Œå…·ä½“é‡Œé¢ç»†åˆ†æ²¡å¿…è¦åˆ†æ\n\næ³¨é‡Š  ä¸ç®¡æ˜¯è¡Œæ³¨é‡Šè¿˜æ˜¯å—æ³¨é‡Šï¼Œå¯¹äºè®¡ç®—æœºæ¥è¯´å¹¶ä¸å…³å¿ƒå…¶å†…å®¹ï¼Œæ‰€ä»¥å¯ä»¥ä½œä¸ºä¸å¯å†æ‹†åˆ†çš„æœ€å°å•å…ƒ\n\nç©ºæ ¼ è¿ç»­çš„ç©ºæ ¼ï¼Œæ¢è¡Œï¼Œç¼©è¿›ç­‰ï¼Œåªè¦ä¸åœ¨å­—ç¬¦ä¸²ä¸­éƒ½æ²¡æœ‰å®é™…çš„é€»è¾‘æ„ä¹‰ï¼Œæ‰€ä»¥è¿ç»­çš„ç©ºæ ¼å¯ä»¥ä½œä¸ºä¸€ä¸ªè¯­æ³•å•å…ƒã€‚\n\nå…¶ä»–ï¼Œå¤§æ‹¬å·ï¼Œä¸­æ‹¬å·ï¼Œå°æ‹¬å·ï¼Œå†’å· ç­‰ç­‰ã€‚\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[n("p",[s._v("è¯­ä¹‰åˆ†æ")]),s._v(" "),n("p",[s._v("è¯­ä¹‰åˆ†æçš„ç›®çš„æ˜¯å°†åˆ†è¯å¾—åˆ°çš„è¯­æ³•å•å…ƒè¿›è¡Œä¸€ä¸ªæ•´ä½“çš„ç»„åˆï¼Œåˆ†æç¡®å®šè¯­æ³•å•å…ƒä¹‹é—´çš„å…³ç³»ã€‚")]),s._v(" "),n("p",[s._v("ç®€å•æ¥è¯´ï¼Œè¯­ä¹‰åˆ†æå¯ä»¥ç†è§£æˆå¯¹è¯­å¥ï¼ˆstatementï¼‰å’Œè¡¨è¾¾å¼ï¼ˆexpressionï¼‰çš„è¯†åˆ«ã€‚")]),s._v(" "),n("ol",[n("li",[s._v("è¯­å¥ï¼Œä¸€ä¸ªå…·å¤‡è¾¹ç•Œçš„ä»£ç åŒºåŸŸã€‚ç›¸é‚»çš„ä¸¤ä¸ªè¯­å¥ä¹‹é—´ä»è¯­æ³•ä¸Šè®²äº’ä¸å½±å“ã€‚æ¯”å¦‚ï¼š var a = 1; if(xxx){xxx}")]),s._v(" "),n("li",[s._v("è¡¨è¾¾å¼ï¼ŒæŒ‡æœ€ç»ˆä¼šæœ‰ä¸€ä¸ªç»“æœçš„ä¸€å°æ®µä»£ç ï¼Œå®ƒå¯ä»¥åµŒå…¥åˆ°å¦ä¸€ä¸ªè¡¨è¾¾å¼ä¸­ï¼Œä¸”åŒ…å«åœ¨è¡¨è¾¾å¼ä¸­ã€‚æ¯”å¦‚ï¼ša++ï¼Œ i > 0 && i< 6")])])])]),s._v(" "),n("p",[s._v("è¯­ä¹‰åˆ†ææ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå®ƒä¼šå°†åˆ†è¯åˆ†æå‡ºæ¥çš„æ•°ç»„è½¬åŒ–æˆæ ‘å½¢çš„è¡¨è¾¾å½¢å¼ã€‚åŒæ—¶ï¼Œä¼šéªŒè¯è¯­æ³•ï¼Œè¯­æ³•å¦‚æœå­˜åœ¨é”™è¯¯çš„è¯ï¼Œä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯ã€‚")]),s._v(" "),n("h4",{attrs:{id:"åº”ç”¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨"}},[s._v("#")]),s._v(" åº”ç”¨")]),s._v(" "),n("img",{attrs:{src:a(407)}}),s._v(" "),n("img",{attrs:{src:a(408)}}),s._v(" "),n("blockquote",[n("p",[s._v("æ„Ÿè§‰å¾ˆå‰å®³ ğŸ‘")])])])}),[],!1,null,null,null);t.default=e.exports}}]);